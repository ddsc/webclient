<!DOCTYPE html>
<html>
<head>
    <title>Mocha Test Runner</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../test/lib/mocha/mocha.css">

    <script src="lib/mocha/mocha.js"></script>
    <script src="lib/expect.js"></script>
    <script>
        mocha.setup("bdd");
    </script>





        <!-- Template definitions -->
        <script type="text/template" id="home-template">
          <header class="jumbotron subhead hidden-phone hidden-tablet">
              <div class="container">
                <h1>Dijk Data Service Center</h1>
                <h2 class="lead">Gateway to realtime sensor aggregation</h2>
              </div>
          </header>

          <div class="row-fluid" id="home-search-wrapper">
             <div class="span6">
                <form class="form-search">
                  <input type="text" class="input-medium search-query" autocomplete="off" placeholder="Doorzoek het DDSC" x-webkit-speech="">
                </form>
             </div>
             <div class="span1 search-or-divider"><p>&nbsp;&nbsp;...of</p></div>
             <div class="span5">
                <button type="button" class="btn">
                    Zoek geavanceerd
                </button>
                <button type="button" class="btn">
                    Data catalogus
                </button>
             </div>
          </div>

          <div class="row-fluid" id="threecol-wrapper">
            <section class="span4" id="leftpane">

                <h3>Top locaties <button type="button" class="btn btn-mini">Alles op de kaart tonen</button></h3>

                <ol>
                    <li>Eemshaven</li>
                    <li>Utrecht</li>
                    <li>De Veenderij</li>
                    <li>Noorderzijlvest</li>
                    <li>Locatie 5</li>
                    <li>Locatie 6</li>
                    <li>Locatie 7</li>
                    <li>Locatie 8</li>
                    <li>Locatie 8</li>
                    <li>Locatie 8</li>
                </ol>
            </section>
            <section class="span4" id="midpane">
                <div class="row">
                    <h3>Alarmen</h3>
                </div>
                <div class="row">
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                </div>
            </section>
            <section class="span4" id="rightpane">
                <div class="row">
                    <h3>Sensoren</h3>
                </div>
                <div class="row">
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                    <span><img src="http://lorempixel.com/50/50/"/></span>
                </div>
            </section>
          </div>
        </script>

        <script type="text/template" id="map-template">
          <div class="row-fluid">

            <div class="span3" id="sidebar">
                <div class="" id="sidebarRegion"></div>
                <div class="" id="collageRegion"></div>
            </div>

            <div class="span9" id="leafletRegion"></div>

          </div>
        </script>


        <script type="text/template" id="icon-template">
            Some icon
        </script>

        <script type="text/template" id="show-no-items-message-template">
            <h4>&nbsp;</h4>
            <p>...</p>
        </script>

        <script type="text/template" id="iconsview-template">
            <h4>Icons</h4>
        </script>


        <script type="text/template" id="leaflet-template">
            <div id="map"></div>
        </script>


        <script type="text/template" id="layeritem-template">
            <span class="action handle">
                <i class="icon-move"></i>
            </span>
            <span class="content"><%= layerName %> (<%= layerType %>)</span>
            <span class="indicator">
                <i class="icon-eye-open"></i>
            </span>
        </script>

        <script type="text/template" id="collageitem-template">
            <span class="action remove">
                <i class="icon-remove"></i>
            </span>
            <span class="content"><%= title %></span>
            <span class="indicator toggle">
                <i class="icon-ok "></i>
            </span>
        </script>

        <script type="text/template" id="layersview-template">
            <h4><%=title%></h4>
        </script>









        <script type="text/template" id="testview-template">

            <div class="visible-phone"><div style="height:20px;"></div></div>
            <span id="summary">
                <h5>Modelbinder example</h5>
                <p>Dit is een voorbeeld van <a href="https://github.com/theironcook/Backbone.ModelBinder">model binding met de de-facto standaard</a> voor Backbone.</p>
                <p>Verander de voor/achternaam. Het object wordt (op het blur event) bi-directioneel aangepast.</p>
                <blockquote>
                    <code style="white-space: pre;" />
                </blockquote>
            </span>

            <div id="personFields">
                <form class="form-horizontal">
                  <div class="control-group">
                    <label class="control-label" for="firstName">First Name</label>
                    <div class="controls">
                      <input type="text" name="firstName" id="firstName" placeholder="John">
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="lastName">Last Name</label>
                    <div class="controls">
                      <input type="text" name="lastName" id="lastName" placeholder="Doe">
                    </div>
                  </div>
                </form>
            </div>
        </script>

        <script id="node-template" type="text/template">
            <li><a href="<%= name %>"><%= nodeName %></a></li>
        </script>

        <script id="timeserieview-template" type="text/template">
            <div id="demo"></div>
        </script>

        <script id="filterview-template" type="text/template">
            <label class="checkbox">
                <input class="hide" type="checkbox" class="filterCheckbox" <%if(selected){%>class="selected" CHECKED<%}%>><i class="icon-tag"></i> <%= filtername %> <span class="state hide"><%= selected %></span>
            </label>
        </script>

        <script id="locationview-template" type="text/template">
            <label class="checkbox">
                <input class="hide" type="checkbox" class="filterCheckbox" <%if(selected){%>class="selected" CHECKED<%}%>><i class="icon-globe"></i> <%= name %> <span class="state hide"><%= selected %></span>
            </label>
        </script>

        <script id="parameterview-template" type="text/template">
            <label class="checkbox">
                <input class="hide" type="checkbox" class="filterCheckbox" <%if(selected){%>class="selected" CHECKED<%}%>>
                <i class="icon-flag"></i> <% if(!name){ %> Naamloze parameter <% } else { %><%=name%> <% } %>
                <span class="badge <% if(parametervalue<500){ %>badge-notice<% } else { %>badge-warning<% } %>"><%= parametervalue %></span><span class="state hide"><%= selected %></span>
            </label>
        </script>

        <script type="text/template" id="graphs-template">
          <div class="row-fluid">
            <div class="span3" id="sidebar">
                <div class="" id="sidebarRegion">
                    <ul class="nav nav-list sidenav transition" rel="popover" data-content="Use the sidebar to choose dimensions and variables." data-original-title="Sidebar" data-placement="right" data-trigger="manual">
                        <li class="metrics-dropdown" id="filters">
                            <a href="javascript:void(0);"><em class="icon-chevron-down"></em> Filters</a>
                            <p data-group="filters" id="filtersRegion" class="-hide"></p>
                        </li>
                        <li class="metrics-dropdown" id="locations">
                            <a href="javascript:void(0)"><em class="icon-chevron-down"></em> Locaties</a>
                            <p data-group="locations" id="locationsRegion" class="-hide"></p>
                        </li>
                        <li class="metrics-dropdown" id="parameters">
                            <a href="javascript:void(0);"><em class="icon-chevron-down"></em> Parameters</a>
                            <p data-group="parameters" id="parametersRegion" class="-hide"></p>
                        </li>
                        <li>
                            <a href="javascript:void(0)" data-toggle="modal" data-target="#modalHelp"> Help</a>
                        </li>
                    </ul>
                    </div>
                    <div class="" id="collageRegion"></div>
            </div>

            <div class="span9" id="mainRegion">
             <h4>Grafieken</h4>
              <div id="graphs"></div>
            </div>
          </div>
        </script>

        <script type="text/template" id="dashboard-template">
            <div class="gridster">
              <ul>
                <li class="try" data-row="2" data-col="3" data-sizex="1" data-sizey="1"></li>
              </ul>
            </div>
        </script>

        <script type="text/template" id="overview-template">
          <div class="row-fluid">
            <div class="span12" id="dashboardRegion"></div>
          </div>
        </script>

        <script type="text/template" id="account-template">
          <h4>Uw gegevens</h4>
        </script>

        <script type="text/template" id="help-template">
          <h4>Help</h4>
        </script>














    <!-- Load in files -->
        <!-- jQuery -->
        <script src="../app/scripts/vendor/jquery-1.8.3.js"></script>
        <script src="../app/scripts/vendor/jquerypp.js"></script>

        <!-- jQuery UI and touch support -->../app/
        <script src="../app/scripts/vendor/jquery-ui-1.9.2.custom.js"></script>
        <script src="../app/scripts/vendor/jquery.ui.touch-punch.js"></script>

        <!-- jsTree -->
        <script src="../app/scripts/vendor/jstree.js"></script>

        <!-- jQuery-based i18n -->
        <script src="../app/scripts/vendor/globalize.js"></script>
        <script src="../app/scripts/vendor/cultures/globalize.cultures.js"></script>

        <!-- Slippy map rendering alternative to OpenLayers -->
        <script src="../app/scripts/vendor/leaflet.js"></script>
        <script src="../app/scripts/vendor/leaflet.markercluster-src.js"></script>
        <script src="../app/scripts/vendor/proj4js-combined.js"></script>
        <script src="../app/scripts/vendor/tile.stamen.js"></script>

        <!-- The most versatile graph library around -->
            <!--[if lte IE 8]><script src="scripts/vendor/r2d3.v2.js"></script><![endif]-->
        <script src="../app/scripts/vendor/d3.v2.js"></script>

        <!-- Powerful time-series filtering tool -->
        <script src="../app/scripts/vendor/crossfilter.js"></script>

        <!-- Higher level D3-based graphing library with Crossfilter support  -->
        <script src="../app/scripts/vendor/dc.min.js"></script>

        <!-- The most versatile graph library around -->
        <script src="../app/scripts/vendor/raphael.js"></script>

        <!-- Gauges lib based on raphael -->
        <script src="../app/scripts/vendor/justgage.1.0.1.js"></script>

        <!-- The most versatile graph library around, depends on Raphael.js -->
        <script src="../app/scripts/vendor/morris.min.js"></script>

        <!-- Timeserie visualization lib -->
        <script src="../app/scripts/vendor/cubism.js"></script>

        <!-- Gauges in JS by http://bernii.github.com/gauge.js/ -->
        <script src="../app/scripts/vendor/gauge.min.js"></script>

        <!-- Client side image placeholders -->
        <script src="../app/scripts/vendor/holder.js"></script>

        <!-- Regexp lib -->
        <script src="../app/scripts/vendor/matches.min.js"></script>

        <!-- Keyboard shortcut defining and dispatching -->
        <script src="../app/scripts/vendor/keymaster.min.js"></script>

        <!-- The go-to library for anything WebGL/Canvas related -->
        <script src="../app/scripts/vendor/Three.js"></script>

        <!-- Drop-in script for persisting form state -->
        <script src="../app/scripts/vendor/garlic.min.js"></script>

        <!-- Adds duration to datetime -->
        <script src="../app/scripts/vendor/xsduration.js"></script>

        <!-- Async -->
        <script src="../app/scripts/vendor/async.min.js"></script>

        <!-- Quick javascript controller Widget -->
        <script src="../app/scripts/vendor/dat.gui.min.js"></script>

        <!-- JSON library by Douglas Crockford -->
        <script src="../app/scripts/vendor/json2.js"></script>

        <!-- Javascript utilities. Consider lodash instead? -->
        <script src="../app/scripts/vendor/underscore.js"></script>
        <!-- <script src="../app/scripts/vendor/lodash.min.js"></script> -->

        <!-- Library for number formatting -->
        <script src="../app/scripts/vendor/numeral.js"></script>

        <!-- CSS like selectors for JSON -->
        <script src="../app/scripts/vendor/jsonselect.js"></script>

        <!-- XPATH-like library for JSON -->
        <script src="../app/scripts/vendor/jspath.min.js"></script>

        <!-- Grid/dashboard library by Ducksboard.com -->
        <script src="../app/scripts/vendor/jquery.gridster.js"></script>

        <!-- Viewport management, from https://github.com/pazguille/viewport -->
        <script src="../app/scripts/vendor/viewport.js"></script>


        <!-- Backbone -->
        <script src="../app/scripts/vendor/backbone-0.9.10.js"></script>
        <script src="../app/scripts/vendor/backbone-localstorage.js"></script>
        <script src="../app/scripts/vendor/backbone.fetch-cache.js"></script>
        <script src="../app/scripts/vendor/backbone.babysitter.js"></script>
        <script src="../app/scripts/vendor/backbone.marionette.min.js"></script>
        <script src="../app/scripts/vendor/backbone.modelbinder.js"></script>
        <script src="../app/scripts/vendor/backbone.collectionbinder.js"></script>

        <!-- Visualsearch.js by Documentcloud -->
        <script src="../app/scripts/vendor/visualsearch.js" type="text/javascript"></script>


        <!-- Twitter Bootstrap base javascript -->
        <script src="../app/scripts/vendor/bootstrap.js"></script>
        <!-- <script src="scripts/vendor/fuelux/loader.js"></script> -->

        <script src="../app/scripts/vendor/bootstrap-notify.js"></script>

        <script src="../app/scripts/lizard/lizard.layerbubble.js"></script>



        <!-- Lizard globals, order matters -->
        <script src="../app/localsettings.js"></script>

        <script src="../app/scripts/lizard/lizard.app.js"></script>

        <script src="../app/scripts/utilities.js"></script>

        <script src="../app/scripts/lizard/lizard.models.js"></script>
        <script src="../app/scripts/lizard/lizard.collections.js"></script>

        <script src="../app/scripts/lizard/lizard.views.js"></script>


        <!-- Application code, split into files -->
        <script src="../app/scripts/lizard/lizard.home.js"></script>
        <script src="../app/scripts/lizard/lizard.help.js"></script>
        <script src="../app/scripts/lizard/lizard.account.js"></script>
        <script src="../app/scripts/lizard/lizard.collage.js"></script>
        <script src="../app/scripts/lizard/lizard.map.js"></script>
        <script src="../app/scripts/lizard/lizard.graph.js"></script>
        <script src="../app/scripts/lizard/lizard.overview.js"></script>
        <script src="../app/scripts/lizard/lizard.eventlisteners.js"></script>


    <!-- Load in spec files -->
    <script src="spec/application.spec.js"></script>

</head>
<body>
    <div id="mocha"></div>

    <script>
        (function() {
          var runner = mocha.run();

          if(!window.PHANTOMJS) return;

          runner.on('test', function(test) {
            sendMessage('testStart', test.title);
          });

          runner.on('test end', function(test) {
            sendMessage('testDone', test.title, test.state);
          });

          runner.on('suite', function(suite) {
            sendMessage('suiteStart', suite.title);
          });

          runner.on('suite end', function(suite) {
            if (suite.root) return;
            sendMessage('suiteDone', suite.title);
          });

          runner.on('fail', function(test, err) {
            sendMessage('testFail', test.title, err);
          });

          runner.on('end', function() {
            var output = {
              failed  : this.failures,
              passed  : this.total - this.failures,
              total   : this.total
            };

            sendMessage('done', output.failed,output.passed, output.total);
          });

          function sendMessage() {
            var args = [].slice.call(arguments);
            alert(JSON.stringify(args));
          }
        })();
    </script>
</body>
</html>
